<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
	<meta name="generator" content="Hugo 0.40.1" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      跬步 &middot; On Coding
    
  </title>

  
  <link rel="stylesheet" href="https://zhu327.github.io/css/poole.css">
  <link rel="stylesheet" href="https://zhu327.github.io/css/syntax.css">
  <link rel="stylesheet" href="https://zhu327.github.io/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://zhu327.github.io/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://zhu327.github.io/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://zhu327.github.io/feed.xml">
</head>


  <body class="theme-base-0d">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>My notes and thoughts.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item  active " href="https://zhu327.github.io/">Home</a>
    <a class="sidebar-nav-item " href="https://zhu327.github.io/post">Posts</a>
    <a class="sidebar-nav-item " href="https://zhu327.github.io/tags">Tags</a>

    
        <a class="sidebar-nav-item " href="https://zhu327.github.io/about/">About</a>

    <a class="sidebar-nav-item" href="https://github.com/zhu327" target="_blank">GitHub</a>
  </nav>

  <div class="sidebar-item">
    <p>&copy; 2023. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://zhu327.github.io/" title="Home">跬步</a>
            <small>On Coding</small>
          </h3>
        </div>
      </div>

      <div class="container content">





<div class="posts">
  
    <div class="post">
        <h1 class="post-title"><a href="https://zhu327.github.io/2015/06/04/%E9%82%AE%E4%BB%B6%E5%AF%86%E7%A0%81%E6%89%BE%E5%9B%9E%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/">邮件密码找回功能实现</a></h1>
        <span class="post-date">Jun 4 2015</span>
        <h3 id="思路">思路</h3>

<p>公司做项目,有用到注册,登录,密码找回等功能,以前自己写的论坛也实现了邮件密码找回,不过比较简单,直接生成随机密码,把新密码发送到用户邮箱.比较不安全,要实现一般网站的用链接找回的功能.</p>

<p>对链接的要求有如下:</p>

<ol>
<li>每次生成的链接都必须不一样;</li>
<li>链接要有过期时间,过期以后无效;</li>
<li>后台在链接被请求时,必须验证链接是否有效.</li>
</ol>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://zhu327.github.io/2015/03/16/django%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95oauth2.0%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1/">Django实现简单OAuth2.0认证服务</a></h1>
        <span class="post-date">Mar 16 2015</span>
        <p>开始写<a href="https://github.com/zhu327/forum">Django forum</a>的RESTful api，首先解决用户认证的问题，使用OAuth2.0协议实现。</p>

<h3 id="参考">参考</h3>

<p><a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html">理解OAuth 2.0</a></p>

<h3 id="授权">授权</h3>

<p>OAuth2.0协议定义了4种授权模式，为了学习OAuth2.0授权协议，这里只实现简化模式。以下为简化模式授权过程。</p>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://zhu327.github.io/2015/03/14/restful-api-%E7%90%86%E8%A7%A3/">RESTful API 理解</a></h1>
        <span class="post-date">Mar 14 2015</span>
        <h3 id="参考">参考</h3>

<p><a href="http://www.ruanyifeng.com/blog/2011/09/restful.html">理解RESTful架构</a><br />
<a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html">RESTful API 设计指南</a><br />
<a href="http://get.jobdeer.com/343.get">来自HeroKu的HTTP API 设计指南(中文版)</a></p>

<h3 id="概念">概念</h3>

<p>REST == Representational State Transfer，意思是表现层状态转化，我们来分解这个概念。<br />
从字面以上理解这是一个操作的过程，实际上它省略了主语资源(Resources)，合起来就是资源的表现层状态转化。
</p>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://zhu327.github.io/2015/03/11/sae%E4%B8%8A%E7%94%A8kvdb%E5%81%9Adjango%E7%BC%93%E5%AD%98/">SAE上用kvdb做Django缓存</a></h1>
        <span class="post-date">Mar 11 2015</span>
        <p><a href="http://forum.sinaapp.com">Django forum</a>在SAE上开启了5M的memcached缓存空间，memcached是用空间计费的，所以在没什么流量的情况下每天也要用1云豆，以blog上的经验来看不用缓存的情况下mysql的消耗又比较大，所以权衡之后选择SAE自己实现的kvdb缓存后端来做缓存，这样缓存消耗的云豆可以忽略不计，又可以达到缓存加速的效果。</p>

<p>参考Django自带的memcache缓存后端来写kvdb的缓存后端。在插入数据的时候添加一个超时时间戳，获取数据的时候判断数据是否超时，如超时则删除数据。另外在实现清空所有数据的时候kvdb没有实现相应的方法，我自己阅读kvdb文档后通过迭代key值来实现清空，有一个可能的问题是这个迭代删除最多只能一次删除100条数据。</p>

<h3 id="实现">实现</h3>

<p>基于<code>django.core.cache.backends.base.BaseCache</code>，对kvdb已有的接口进行重写适配，kvdb未实现的接口则沿用。</p>

<blockquote>
<p><a href="https://github.com/zhu327/forum/blob/sae/xp/cache.py">https://github.com/zhu327/forum/blob/sae/xp/cache.py</a></p>
</blockquote>

<p></p>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://zhu327.github.io/2015/02/15/%E8%AE%B0%E6%90%9C%E7%8B%97%E5%BE%AE%E4%BF%A1%E5%8F%B7%E6%90%9C%E7%B4%A2%E5%8F%8D%E7%88%AC%E8%99%AB/">记搜狗微信号搜索反爬虫</a></h1>
        <span class="post-date">Feb 15 2015</span>
        <h3 id="反爬虫">反爬虫</h3>

<p><a href="https://github.com/zhu327/rss">RSS Factory</a>前段时间又出问题了，访问微信公众号RSS一直500，完全没法用了。</p>

<p>经调试，发现由于爬取数据太频繁，触发了搜狗微信公众号的反爬虫，探索了下反爬虫的规则:</p>

<ol>
<li>没有带Cookie的情况下，频繁访问触发反爬虫</li>
<li>带Cookie的情况下，频繁访问偶尔触发反爬出，偶现500错误</li>
<li>不带Cookie情况下，隔几个小时范围一下不会触发反爬虫</li>
</ol>
    </div>
  
</div>

<div class="pagination">
  
  <a class="pagination-item older" href="https://zhu327.github.io/page/11/">Older</a>
  

  
  <a class="pagination-item newer" href="https://zhu327.github.io/page/9/">Newer</a>
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>

